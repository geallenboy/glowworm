/*! For license information please see 9845.b5a4d383.chunk.js.LICENSE.txt */
(self.webpackChunkglowworm=self.webpackChunkglowworm||[]).push([[9845],{40537:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(23151),i=n(29547),a=n(44367),s=(n(1304),n(62382)),o=n(7233),l=n(31637),c=n(98151),d=n(24960),u=n(28586),h=n(94934),p=n(20190),x=n(53525),f=n(58847),Z=["disabled","value","setValue","alignRight"],g=(0,d.ZP)("div")({position:"relative"}),m=(0,d.ZP)("div")((function(e){var t=e.theme;return{bottom:40,overflow:"hidden",position:"absolute",left:t.spacing(-2),boxShadow:t.customShadows.z20,borderRadius:t.shape.borderRadiusMd,"& .emoji-mart":{border:"none",backgroundColor:t.palette.background.paper},"& .emoji-mart-anchor":{color:t.palette.text.disabled,"&:hover, &:focus, &.emoji-mart-anchor-selected":{color:t.palette.text.primary}},"& .emoji-mart-bar":{borderColor:t.palette.divider},"& .emoji-mart-search input":{backgroundColor:"transparent",color:t.palette.text.primary,borderColor:t.palette.grey[50032],"&::placeholder":(0,a.Z)((0,a.Z)({},t.typography.body2),{},{color:t.palette.text.disabled})},"& .emoji-mart-search-icon svg":{opacity:1,fill:t.palette.text.disabled},"& .emoji-mart-category-label span":(0,a.Z)((0,a.Z)({},t.typography.subtitle2),{},{backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",color:t.palette.text.primary,backgroundColor:(0,u.Fq)(t.palette.background.paper,.8)}),"& .emoji-mart-title-label":{color:t.palette.text.primary},"& .emoji-mart-category .emoji-mart-emoji:hover:before":{backgroundColor:t.palette.action.selected},"& .emoji-mart-emoji":{outline:"none"},"& .emoji-mart-preview-name":{color:t.palette.text.primary},"& .emoji-mart-preview-shortname, .emoji-mart-preview-emoticon":{color:t.palette.text.secondary}}}));function v(e){var t,n=e.disabled,d=e.value,u=e.setValue,v=e.alignRight,b=void 0!==v&&v,j=(0,i.Z)(e,Z),y=(0,h.Z)(),w=(0,x.useState)(!1),C=(0,r.Z)(w,2),k=C[0],S=C[1];k&&(t=(0,f.jsx)(p.cW,{color:y.palette.primary.main,title:"Pick your emoji\u2026",emoji:"point_up",onSelect:function(e){return u(d+e.native)}}));return(0,f.jsx)(l.Z,{onClickAway:function(){S(!1)},children:(0,f.jsxs)(g,(0,a.Z)((0,a.Z)({},j),{},{children:[(0,f.jsx)(m,{sx:(0,a.Z)({},b&&{right:-2,left:"auto !important"}),children:t}),(0,f.jsx)(c.Z,{disabled:n,size:"small",onClick:function(e){e.preventDefault(),S(!k)},children:(0,f.jsx)(o.JO,{icon:s.Z,width:20,height:20})})]}))})}},72414:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(44367),i=n(29547),a=n(3469),s=n(37172),o=n(59061),l=n(26573),c=n(48943),d=n(58847),u=["links","action","heading","moreLink","sx"];function h(e){var t=e.links,n=e.action,h=e.heading,p=e.moreLink,x=void 0===p?[]:p,f=e.sx,Z=(0,i.Z)(e,u);return(0,d.jsxs)(a.Z,{sx:(0,r.Z)({mb:5},f),children:[(0,d.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsxs)(a.Z,{sx:{flexGrow:1},children:[(0,d.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:h}),(0,d.jsx)(c.SW,(0,r.Z)({links:t},Z))]}),n&&(0,d.jsx)(a.Z,{sx:{flexShrink:0},children:n})]}),(0,d.jsx)(a.Z,{sx:{mt:2},children:(0,l.isString)(x)?(0,d.jsx)(o.Z,{href:x,target:"_blank",variant:"body2",children:x}):x.map((function(e){return(0,d.jsx)(o.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},50329:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(29547),i=n(44367),a=n(37172),s=n(28586),o=n(41645),l=n(58974),c=n(53525),d=n(67951),u=n(58847),h=["images","photoIndex","setPhotoIndex","isOpen","onClose"],p=(0,o.Z)((function(e){var t="rtl"===e.direction,n=function(t){return{backgroundSize:"24px 24px",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:(0,s.Fq)(e.palette.grey[900],.8),backgroundImage:'url("/static/icons/controls/'.concat(t,'.svg")')}};return(0,l.Z)({root:{backdropFilter:"blur(8px)",backgroundColor:(0,s.Fq)(e.palette.grey[900],.88),"& .ril__toolbar":{height:"auto !important",padding:e.spacing(2,3),backgroundColor:"transparent"},"& .ril__toolbarLeftSide":{display:"none"},"& .ril__toolbarRightSide":{height:"auto !important",padding:0,flexGrow:1,display:"flex",alignItems:"center","& li":{display:"flex",alignItems:"center"},"& li:first-of-type":{flexGrow:1},"& li:not(:first-of-type)":{width:e.spacing(5),height:e.spacing(5),justifyContent:"center",marginLeft:e.spacing(1),borderRadius:e.shape.borderRadius}},"& button:focus":{outline:"none"},"& .ril__toolbarRightSide button":{width:"100%",height:"100%","&.ril__zoomInButton":n("maximize-outline"),"&.ril__zoomOutButton":n("minimize-outline"),"&.ril__closeButton":n("close")},"& .ril__navButtons":{padding:e.spacing(3),borderRadius:e.shape.borderRadiusSm,"&.ril__navButtonPrev":(0,i.Z)({left:e.spacing(2),right:"auto"},n(t?"arrow-ios-forward":"arrow-ios-back")),"&.ril__navButtonNext":(0,i.Z)({right:e.spacing(2),left:"auto"},n(t?"arrow-ios-back":"arrow-ios-forward"))}}})}));function x(e){var t=e.images,n=e.photoIndex,s=e.setPhotoIndex,o=e.isOpen,l=e.onClose,x=(0,r.Z)(e,h),f=p();(0,c.useEffect)((function(){document.body.style.overflow=o?"hidden":"unset"}),[o]);var Z=[(0,u.jsx)(a.Z,{variant:"subtitle2",children:"".concat(n+1," / ").concat(t.length)})];return(0,u.jsx)(u.Fragment,{children:o&&(0,u.jsx)(d.Z,(0,i.Z)({mainSrc:t[n],nextSrc:t[(n+1)%t.length],prevSrc:t[(n+t.length-1)%t.length],onCloseRequest:l,onMovePrevRequest:function(){return s((n+t.length-1)%t.length)},onMoveNextRequest:function(){return s((n+1)%t.length)},toolbarButtons:Z,reactModalStyle:{overlay:{zIndex:9999}},wrapperClassName:f.root},x))})}},2975:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(44367),i=n(29547),a=n(84422),s=n(37172),o=n(58847),l=["searchQuery"];function c(e){var t=e.searchQuery,n=void 0===t?"":t,c=(0,i.Z)(e,l);return(0,o.jsxs)(a.Z,(0,r.Z)((0,r.Z)({},c),{},{children:[(0,o.jsx)(s.Z,{gutterBottom:!0,align:"center",variant:"subtitle1",children:"\u6ca1\u6709\u53d1\u73b0"}),(0,o.jsxs)(s.Z,{variant:"body2",align:"center",children:["\u6ca1\u627e\u5230\u67e5\u8be2\u7ed3\u679c \xa0",(0,o.jsxs)("strong",{children:['"',n,'"']}),". \u5c1d\u8bd5\u68c0\u67e5\u62fc\u5199\u9519\u8bef\u6216\u4f7f\u7528\u5b8c\u6574\u7684\u5355\u8bcd."]})]}))}},41867:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return tn}});var r=n(89227),i=n(29336),a=n(53525),s=n(72414),o=n(75641),l=n(19363),c=n(3935),d=n(73775),u=n(45008),h=n(33543),p=n(23151),x=n(90352),f=n(28234),Z=n(97157),g=n(7233),m=n(3469),v=n(68525),b=n(37172),j=n(53394),y=n(98151),w=n(4059),C=n(86023),k=n(78624),S=n(17288),I=n(66339),P=n(8764),O=n(13656),A=n(10004),R=n(48444),M=n(74418),W=n(46029),T=n(58847),_=["online","invisible","away"];function D(){var e=(0,W.Z)().user,t=(0,a.useState)(null),n=(0,p.Z)(t,2),r=n[0],i=n[1],s=(0,a.useState)("online"),o=(0,p.Z)(s,2),l=o[0],c=o[1];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(m.Z,{sx:{position:"relative"},children:[(0,T.jsx)(M.Z,{onClick:function(e){i(e.currentTarget)},sx:{cursor:"pointer",width:48,height:48}}),(0,T.jsx)(R.Z,{status:l,sx:{position:"absolute",bottom:2,right:2}})]}),(0,T.jsxs)(v.ZP,{open:Boolean(r),anchorEl:r,onClose:function(){i(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[(0,T.jsxs)(m.Z,{sx:{py:2,pr:1,pl:2.5,display:"flex",alignItems:"center"},children:[(0,T.jsx)(M.Z,{}),(0,T.jsxs)(m.Z,{sx:{ml:2,mr:3},children:[(0,T.jsx)(b.Z,{noWrap:!0,variant:"subtitle1",children:e.displayName}),(0,T.jsx)(b.Z,{noWrap:!0,variant:"body2",sx:{color:"text.secondary"},children:e.email})]}),(0,T.jsx)(j.Z,{title:"\u6ce8\u9500",children:(0,T.jsx)(y.Z,{children:(0,T.jsx)(g.JO,{icon:Z.Z,width:24,height:24})})})]}),(0,T.jsx)(w.Z,{}),(0,T.jsxs)(C.Z,{children:[(0,T.jsxs)(k.ZP,{disableGutters:!0,sx:{py:1,px:2.5},children:[(0,T.jsx)(S.Z,{children:(0,T.jsx)(m.Z,{sx:{width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,T.jsx)(R.Z,{status:l})})}),(0,T.jsx)(I.Z,{children:(0,T.jsx)(P.Z,{native:!0,fullWidth:!0,size:"small",value:l,onChange:function(e){c(e.target.value)},sx:{"& svg":{display:"none"},"& select":{padding:0,typography:"body2","&:focus":{bgcolor:"transparent"}},"& fieldset":{borderWidth:"0 !important"}},children:_.map((function(e){return(0,T.jsx)("option",{value:e,children:(0,A.I)(e)},e)}))})})]}),(0,T.jsxs)(O.Z,{disableGutters:!0,sx:{py:1,px:2.5},children:[(0,T.jsx)(S.Z,{children:(0,T.jsx)(g.JO,{icon:f.Z,width:24,height:24})}),(0,T.jsx)(I.Z,{primary:"Profile",primaryTypographyProps:{variant:"body2"}})]}),(0,T.jsxs)(O.Z,{disableGutters:!0,sx:{py:1,px:2.5},children:[(0,T.jsx)(S.Z,{children:(0,T.jsx)(g.JO,{icon:x.Z,width:24,height:24})}),(0,T.jsx)(I.Z,{primary:"Settings",primaryTypographyProps:{variant:"body2"}})]})]})]})]})}var z=n(44367),B=n(29547),J=n(49112),L=n(98132),E=n(31637),F=n(6844),G=n(13164),U=n(24960),q=["query","onChange","onFocus","onClickAway"],V=(0,U.ZP)("div")((function(e){return{marginTop:e.theme.spacing(2)}})),N=(0,U.ZP)(L.Z)((function(e){var t=e.theme;return{transition:t.transitions.create("box-shadow",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&.Mui-focused":{boxShadow:t.customShadows.z8},"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}));function H(e){var t=e.query,n=e.onChange,r=e.onFocus,i=e.onClickAway,a=(0,B.Z)(e,q);return(0,T.jsx)(E.Z,{onClickAway:i,children:(0,T.jsx)(V,(0,z.Z)((0,z.Z)({},a),{},{children:(0,T.jsx)(F.Z,{fullWidth:!0,size:"small",children:(0,T.jsx)(N,{value:t,onFocus:r,onChange:n,placeholder:"\u641c\u7d22\u8054\u7cfb\u4eba...",startAdornment:(0,T.jsx)(G.Z,{position:"start",children:(0,T.jsx)(m.Z,{component:g.JO,icon:J.Z,sx:{color:"text.disabled"}})})})})}))})}var Y=n(34451),K=n(19631),Q=n(73818),$=n(60482),X=n(34951),ee=n(29329),te=n(34742),ne=n(76339),re=n(44130),ie=6e4,ae=1440,se=43200,oe=525600;function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,re.Z)(2,arguments);var r=n.locale||ne.Z;if(!r.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var i=(0,X.Z)(e,t);if(isNaN(i))throw new RangeError("Invalid time value");var a,s,o=(0,te.Z)(n);o.addSuffix=Boolean(n.addSuffix),o.comparison=i,i>0?(a=(0,ee.Z)(t),s=(0,ee.Z)(e)):(a=(0,ee.Z)(e),s=(0,ee.Z)(t));var l,c=null==n.roundingMethod?"round":String(n.roundingMethod);if("floor"===c)l=Math.floor;else if("ceil"===c)l=Math.ceil;else{if("round"!==c)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");l=Math.round}var d,u=s.getTime()-a.getTime(),h=u/ie,p=(0,$.Z)(s)-(0,$.Z)(a),x=(u-p)/ie;if("second"===(d=null==n.unit?h<1?"second":h<60?"minute":h<ae?"hour":x<se?"day":x<oe?"month":"year":String(n.unit))){var f=l(u/1e3);return r.formatDistance("xSeconds",f,o)}if("minute"===d){var Z=l(h);return r.formatDistance("xMinutes",Z,o)}if("hour"===d){var g=l(h/60);return r.formatDistance("xHours",g,o)}if("day"===d){var m=l(x/ae);return r.formatDistance("xDays",m,o)}if("month"===d){var v=l(x/se);return 12===v&&"month"!==n.unit?r.formatDistance("xYears",1,o):r.formatDistance("xMonths",v,o)}if("year"===d){var b=l(x/oe);return r.formatDistance("xYears",b,o)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function ce(e,t){return(0,re.Z)(1,arguments),le(e,Date.now(),t)}var de=n(26573),ue=["isSelected","conversation","onSelectConversation","isOpenSidebar"],he=(0,U.ZP)(O.Z)((function(e){var t=e.theme;return{padding:t.spacing(1.5,3),transition:t.transitions.create("all")}})),pe=(0,U.ZP)("div")({position:"relative",width:48,height:48,"& .MuiAvatar-img":{borderRadius:"50%"},"& .MuiAvatar-root":{width:"100%",height:"100%"}});function xe(e){var t=e.isSelected,n=e.conversation,r=e.onSelectConversation,i=e.isOpenSidebar,a=(0,B.Z)(e,ue),s=function(e,t){var n=e.participants.filter((function(e){return e.id!==t})),r=n.reduce((function(e,t){return[].concat((0,Y.Z)(e),[t.name])}),[]).join(", "),i="",a=e.messages[e.messages.length-1];if(a){var s=a.senderId===t?"You: ":"",o="image"===a.contentType?"Sent a photo":a.body;i="".concat(s).concat(o)}return{otherParticipants:n,displayNames:r,displayText:i}}(n,"8864c717-587d-472a-929a-8e5f298024da-0"),o=(0,de.last)(n.messages).createdAt,l=s.otherParticipants.length>1,c=n.unreadCount>0,d=l&&s.otherParticipants.map((function(e){return e.status})).includes("online");return(0,T.jsxs)(he,(0,z.Z)((0,z.Z)({disableGutters:!0,onClick:r,sx:(0,z.Z)({},t&&{bgcolor:"action.selected"})},a),{},{children:[(0,T.jsx)(K.Z,{children:(0,T.jsxs)(m.Z,{sx:(0,z.Z)({},l&&{position:"relative",width:48,height:48,"& .avatarWrapper":{position:"absolute",width:32,height:32,"&:nth-of-type(1)":{left:0,zIndex:9,bottom:2,"& .MuiAvatar-root":{border:function(e){return"solid 2px ".concat(e.palette.background.paper)}}},"&:nth-of-type(2)":{top:2,right:0}}}),children:[s.otherParticipants.slice(0,2).map((function(e){return(0,T.jsxs)(pe,{className:"avatarWrapper",children:[(0,T.jsx)(Q.Z,{alt:e.name,src:e.avatar}),!l&&(0,T.jsx)(R.Z,{status:e.status,sx:{right:2,bottom:2,position:"absolute"}})]},e.id)})),d&&(0,T.jsx)(R.Z,{status:"online",sx:{right:2,bottom:2,position:"absolute"}})]})}),i&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(I.Z,{primary:s.displayNames,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondary:s.displayText,secondaryTypographyProps:{noWrap:!0,variant:c?"subtitle2":"body2",color:c?"textPrimary":"textSecondary"}}),(0,T.jsxs)(m.Z,{sx:{ml:2,height:44,display:"flex",alignItems:"flex-end",flexDirection:"column"},children:[(0,T.jsx)(m.Z,{sx:{mb:1.25,fontSize:12,lineHeight:"22px",whiteSpace:"nowrap",color:"text.disabled"},children:ce(new Date(o),{addSuffix:!1})}),c&&(0,T.jsx)(R.Z,{status:"unread",size:"small"})]})]})]}))}var fe=n(5058),Ze=["conversations","isOpenSidebar","activeConversationId"];function ge(e){var t=e.conversations,n=e.isOpenSidebar,r=e.activeConversationId,i=(0,B.Z)(e,Ze),a=(0,fe.s0)();return(0,T.jsx)(C.Z,(0,z.Z)((0,z.Z)({disablePadding:!0},i),{},{children:t.allIds.map((function(e){return(0,T.jsx)(xe,{isOpenSidebar:n,conversation:t.byId[e],isSelected:r===e,onSelectConversation:function(){return function(e){var n="",r=t.byId[e];n="GROUP"===r.type?r.id:r.participants.find((function(e){return"8864c717-587d-472a-929a-8e5f298024da-0"!==e.id})).username,a("".concat(h.vB.chat.root,"/").concat(n))}(e)}},e)}))}))}var me=n(46596),ve=n(67007),be=n(99875),je=n(14682),ye=n(28586),we=n(1655),Ce=n.n(we),ke=n(94937),Se=n.n(ke),Ie=n(2975),Pe=["contacts","recipients","onAddRecipient"],Oe=(0,U.ZP)("div")((function(e){return{display:"flex",alignItems:"center",padding:e.theme.spacing(2,3)}})),Ae=(0,U.ZP)("div")((function(e){var t=e.theme;return{"& .MuiAutocomplete-root":{minWidth:280,marginLeft:t.spacing(2),"&.Mui-focused .MuiAutocomplete-inputRoot":{boxShadow:t.customShadows.z8}},"& .MuiAutocomplete-inputRoot":{transition:t.transitions.create("box-shadow",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}}));function Re(e){var t=e.contacts,n=e.recipients,r=e.onAddRecipient,i=(0,B.Z)(e,Pe),s=(0,a.useState)(""),o=(0,p.Z)(s,2),l=o[0],c=o[1];return(0,T.jsxs)(Oe,(0,z.Z)((0,z.Z)({},i),{},{children:[(0,T.jsx)(b.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"To:"}),(0,T.jsx)(Ae,{children:(0,T.jsx)(ve.Z,{multiple:!0,size:"small",disablePortal:!0,popupIcon:null,clearText:"Clear",noOptionsText:(0,T.jsx)(Ie.Z,{searchQuery:l}),onChange:function(e,t){c(""),r&&r(t)},onInputChange:function(e){c(e.target.value)},options:t,getOptionLabel:function(e){return e.name},renderOption:function(e,t,n){var r=n.inputValue,i=n.selected,a=t.name,s=t.avatar,o=Ce()(a,r),l=Se()(a,o);return(0,T.jsxs)("li",(0,z.Z)((0,z.Z)({},e),{},{children:[(0,T.jsxs)(m.Z,{sx:{width:32,height:32,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[(0,T.jsx)(Q.Z,{alt:a,src:s}),(0,T.jsx)(m.Z,{sx:(0,z.Z)({top:0,opacity:0,width:"100%",height:"100%",display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",bgcolor:function(e){return(0,ye.Fq)(e.palette.grey[900],.8)},transition:function(e){return e.transitions.create("opacity",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.shorter})}},i&&{opacity:1,color:"primary.main"}),children:(0,T.jsx)(g.JO,{icon:me.Z,width:20,height:20})})]}),(0,T.jsx)(m.Z,{sx:{ml:2}}),l.map((function(e,t){return(0,T.jsx)(b.Z,{variant:"subtitle2",color:e.highlight?"primary":"textPrimary",children:e.text},t)}))]}))},renderTags:function(e,t){return e.map((function(e,n){var r=e.name,i=e.avatar;return(0,T.jsx)(be.Z,(0,z.Z)({size:"small",label:r,color:"info",avatar:(0,T.jsx)(Q.Z,{alt:r,src:i})},t({index:n})),"".concat(n,"-").concat(r))}))},renderInput:function(e){return(0,T.jsx)(je.Z,(0,z.Z)((0,z.Z)({},e),{},{placeholder:0===n.length?"\u6536\u4ef6\u4eba":""}))}})})]}))}var Me=n(92969),We=n(78655),Te=n(64810),_e=n(64251),De=n(8592),ze=n(59061),Be=n(48943),Je=n(58216),Le=["participants"],Ee=(0,U.ZP)("div")((function(e){return{flexShrink:0,minHeight:92,display:"flex",alignItems:"center",padding:e.theme.spacing(0,3)}}));function Fe(e){var t=e.participants,n=(0,Y.Z)(t)[0];return void 0===n?null:(0,T.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,T.jsxs)(m.Z,{sx:{position:"relative"},children:[(0,T.jsx)(Q.Z,{src:n.avatar,alt:n.name}),(0,T.jsx)(R.Z,{status:n.status,sx:{position:"absolute",right:2,bottom:2}})]}),(0,T.jsxs)(m.Z,{sx:{ml:2},children:[(0,T.jsx)(b.Z,{variant:"subtitle2",children:n.name}),(0,T.jsx)(b.Z,{variant:"body2",sx:{color:"text.secondary"},children:"offline"!==n.status?(0,A.I)(n.status):(0,Je.DY)(n.lastActivity)})]})]})}function Ge(e){var t=e.participants;return(0,T.jsxs)("div",{children:[(0,T.jsx)(De.Z,{max:3,sx:{mb:.5,"& .MuiAvatar-root":{width:32,height:32}},children:t.map((function(e){return(0,T.jsx)(Q.Z,{alt:e.name,src:e.avatar},e.id)}))}),(0,T.jsx)(ze.Z,{variant:"body2",underline:"none",component:"button",color:"text.secondary",onClick:function(){},children:(0,T.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center"},children:[t.length," \u4eba\u5458",(0,T.jsx)(g.JO,{icon:Me.Z})]})})]})}function Ue(e){var t=e.participants,n=(0,B.Z)(e,Le),r=t.length>1;return(0,T.jsxs)(Ee,(0,z.Z)((0,z.Z)({},n),{},{children:[r?(0,T.jsx)(Ge,{participants:t}):(0,T.jsx)(Fe,{participants:t}),(0,T.jsx)(m.Z,{sx:{flexGrow:1}}),(0,T.jsx)(Be.V3,{children:(0,T.jsx)(g.JO,{icon:Te.Z,width:20,height:20})}),(0,T.jsx)(Be.V3,{children:(0,T.jsx)(g.JO,{icon:_e.Z,width:20,height:20})}),(0,T.jsx)(Be.V3,{children:(0,T.jsx)(g.JO,{icon:We.Z,width:20,height:20})})]}))}var qe=n(26680),Ve=n(74577),Ne=n(63772),He=n(970),Ye=n(35814),Ke=n(33469),Qe=n(89488),$e=n(40537),Xe=["disabled","conversationId","onSend"],et=(0,U.ZP)("div")((function(e){return{minHeight:56,display:"flex",position:"relative",alignItems:"center",paddingLeft:e.theme.spacing(2)}}));function tt(e){var t=e.disabled,n=e.conversationId,r=e.onSend,i=(0,B.Z)(e,Xe),s=(0,a.useRef)(null),o=(0,a.useState)(""),l=(0,p.Z)(o,2),c=l[0],d=l[1],u=function(){s.current.click()},h=function(){return c?(r&&r({conversationId:n,messageId:(0,Qe.Z)(),message:c,contentType:"text",attachments:[],createdAt:new Date,senderId:"8864c717-587d-472a-929a-8e5f298024da-0"}),d("")):""};return(0,T.jsxs)(et,(0,z.Z)((0,z.Z)({},i),{},{children:[(0,T.jsx)(Ye.Z,{disabled:t,fullWidth:!0,value:c,disableUnderline:!0,onKeyUp:function(e){"Enter"===e.key&&h()},onChange:function(e){d(e.target.value)},placeholder:"\u952e\u5165\u6d88\u606f",startAdornment:(0,T.jsx)(G.Z,{position:"start",children:(0,T.jsx)($e.Z,{disabled:t,value:c,setValue:d})}),endAdornment:(0,T.jsxs)(Ke.Z,{direction:"row",spacing:.5,mr:1.5,children:[(0,T.jsx)(y.Z,{disabled:t,size:"small",onClick:u,children:(0,T.jsx)(g.JO,{icon:Ne.Z,width:24,height:24})}),(0,T.jsx)(y.Z,{disabled:t,size:"small",onClick:u,children:(0,T.jsx)(g.JO,{icon:qe.Z,width:24,height:24})}),(0,T.jsx)(y.Z,{disabled:t,size:"small",children:(0,T.jsx)(g.JO,{icon:Ve.Z,width:24,height:24})})]}),sx:{height:"100%"}}),(0,T.jsx)(w.Z,{orientation:"vertical",flexItem:!0}),(0,T.jsx)(y.Z,{color:"primary",disabled:!c,onClick:h,sx:{mx:1},children:(0,T.jsx)(g.JO,{icon:He.Z,width:24,height:24})}),(0,T.jsx)("input",{type:"file",ref:s,style:{display:"none"}})]}))}var nt=["message","conversation","onOpenLightbox"],rt=(0,U.ZP)("div")((function(e){return{display:"flex",marginBottom:e.theme.spacing(3)}})),it=(0,U.ZP)("div")((function(e){var t=e.theme;return{maxWidth:320,padding:t.spacing(1.5),marginTop:t.spacing(.5),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral}})),at=(0,U.ZP)(b.Z)((function(e){var t=e.theme;return{display:"flex",marginBottom:t.spacing(.75),color:t.palette.text.secondary}})),st=(0,U.ZP)("img")((function(e){return{height:200,minWidth:296,width:"100%",cursor:"pointer",objectFit:"cover",borderRadius:e.theme.shape.borderRadius}}));function ot(e){var t=e.message,n=e.conversation,r=e.onOpenLightbox,i=(0,B.Z)(e,nt),a=n.participants.find((function(e){return e.id===t.senderId})),s="8864c717-587d-472a-929a-8e5f298024da-0"===t.senderId?{type:"me"}:{avatar:a.avatar,name:a.name},o="me"===s.type,l="image"===t.contentType,c=s.name&&s.name.split(" ")[0];return(0,T.jsx)(rt,(0,z.Z)((0,z.Z)({},i),{},{children:(0,T.jsxs)(m.Z,{sx:(0,z.Z)({display:"flex"},o&&{ml:"auto"}),children:["me"!==s.type&&(0,T.jsx)(Q.Z,{alt:s.name,src:s.avatar,sx:{width:32,height:32}}),(0,T.jsxs)(m.Z,{sx:{ml:2},children:[(0,T.jsxs)(at,{noWrap:!0,variant:"caption",sx:(0,z.Z)({},o&&{justifyContent:"flex-end"}),children:[!o&&"".concat(c,","),"\xa0",ce(new Date(t.createdAt),{addSuffix:!0})]}),(0,T.jsx)(it,{sx:(0,z.Z)({},o&&{color:"grey.800",bgcolor:"primary.lighter"}),children:l?(0,T.jsx)(st,{alt:"attachment",src:t.body,onClick:function(){return r(t.body)}}):(0,T.jsx)(b.Z,{variant:"body2",children:t.body})})]})]})}))}var lt=n(50329),ct=n(90778);function dt(e){var t=e.conversation,n=(0,a.useRef)(),r=(0,a.useState)(!1),i=(0,p.Z)(r,2),s=i[0],o=i[1],l=(0,a.useState)(null),c=(0,p.Z)(l,2),d=c[0],u=c[1];(0,a.useEffect)((function(){n.current&&(n.current.scrollTop=n.current.scrollHeight)}),[t.messages]);var h=t.messages.filter((function(e){return"image"===e.contentType})).map((function(e){return e.body})),x=function(e){var t=(0,de.findIndex)(h,(function(t){return t===e}));o(!0),u(t)};return(0,T.jsxs)(ct.Z,{scrollableNodeProps:{ref:n},sx:{p:3,flexGrow:1},children:[t.messages.map((function(e){return(0,T.jsx)(ot,{message:e,conversation:t,onOpenLightbox:x},e.id)})),(0,T.jsx)(lt.Z,{images:h,photoIndex:d,setPhotoIndex:u,isOpen:s,onClose:function(){return o(!1)}})]})}var ut=n(78833),ht=n(18815),pt=n(94934),xt=n(14456),ft=n(91985),Zt=n(77745),gt=n(91488),mt=["conversation","isCollapse","onCollapse"],vt=(0,U.ZP)("div")((function(e){return{flexGrow:1,height:"100%",display:"flex",overflow:"hidden",flexDirection:"column",paddingBottom:e.theme.spacing(2)}})),bt=(0,U.ZP)("div")((function(e){var t=e.theme;return{display:"flex",alignItems:"center",marginTop:t.spacing(2),padding:t.spacing(0,2.5)}})),jt=(0,U.ZP)("div")((function(e){var t=e.theme;return{width:40,height:40,flexShrink:0,display:"flex",overflow:"hidden",alignItems:"center",justifyContent:"center",color:t.palette.text.secondary,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[50016]}})),yt=(0,U.ZP)(ft.Z)((function(e){var t=e.theme;return(0,z.Z)((0,z.Z)({},t.typography.overline),{},{height:40,flexShrink:0,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})}));function wt(e){var t=e.file,n=e.fileUrl;return(0,T.jsxs)(bt,{children:[(0,T.jsx)(jt,{children:(0,gt.PF)(n)}),(0,T.jsxs)(m.Z,{sx:{ml:1.5,maxWidth:150},children:[(0,T.jsx)(b.Z,{variant:"body2",noWrap:!0,children:(0,gt.lW)(n)}),(0,T.jsx)(b.Z,{noWrap:!0,variant:"caption",sx:{color:"text.secondary",display:"block"},children:(0,Je.zM)(t.createdAt)})]})]},n)}function Ct(e){var t=e.conversation,n=e.isCollapse,r=e.onCollapse,i=(0,B.Z)(e,mt),a=(0,de.uniq)((0,de.flatten)(t.messages.map((function(e){return e.attachments})))).length;return(0,T.jsxs)(vt,(0,z.Z)((0,z.Z)({},i),{},{children:[(0,T.jsxs)(yt,{fullWidth:!0,color:"inherit",onClick:r,endIcon:(0,T.jsx)(g.JO,{icon:n?xt.Z:Me.Z,width:16,height:16}),children:["\u9644\u4ef6 (",a,")"]}),!n&&(0,T.jsx)(w.Z,{}),(0,T.jsx)(ct.Z,{children:(0,T.jsx)(Zt.Z,{in:n,children:t.messages.map((function(e){return(0,T.jsx)("div",{children:e.attachments.map((function(t){return(0,T.jsx)(wt,{file:e,fileUrl:t},t)}))},e.id)}))})})]}))}var kt=n(57707),St=n(16163),It=n(17358),Pt=n(46038),Ot=["participant","isOpen","onClose"],At=(0,U.ZP)("div")((function(e){return{display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.theme.spacing(1.5)}})),Rt=(0,U.ZP)(g.JO)((function(e){var t=e.theme;return{width:16,height:16,marginRight:t.spacing(1),color:t.palette.text.secondary}}));function Mt(e){var t=e.participant,n=e.isOpen,r=e.onClose,i=(0,B.Z)(e,Ot),a=t.name,s=t.avatar,o=t.position,l=t.address,c=t.phone,d=t.email;return(0,T.jsx)(Pt.Kl,(0,z.Z)((0,z.Z)({fullWidth:!0,maxWidth:"xs",open:n,onClose:r},i),{},{children:(0,T.jsxs)(It.Z,{sx:{pb:5,textAlign:"center"},children:[(0,T.jsx)(Q.Z,{alt:a,src:s,sx:{mt:5,mb:2,mx:"auto",width:96,height:96}}),(0,T.jsx)(b.Z,{variant:"h6",children:a}),(0,T.jsx)(b.Z,{variant:"body2",paragraph:!0,sx:{color:"text.secondary"},children:o}),(0,T.jsxs)(At,{children:[(0,T.jsx)(Rt,{icon:St.Z}),(0,T.jsx)(b.Z,{variant:"body2",children:l})]}),(0,T.jsxs)(At,{children:[(0,T.jsx)(Rt,{icon:Te.Z}),(0,T.jsx)(b.Z,{variant:"body2",children:c})]}),(0,T.jsxs)(At,{children:[(0,T.jsx)(Rt,{icon:kt.Z}),(0,T.jsx)(b.Z,{variant:"body2",children:d})]})]})}))}var Wt=["participants","selectUserId","onShowPopupUserInfo","isCollapse","onCollapse"],Tt=(0,U.ZP)(ft.Z)((function(e){var t=e.theme;return(0,z.Z)((0,z.Z)({},t.typography.overline),{},{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})}));function _t(e){var t=e.participant,n=e.isOpen,r=e.onClosePopup,i=e.onShowPopup,a=t.name,s=t.avatar,o=t.status,l=t.position;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(O.Z,{disableGutters:!0,onClick:i,sx:{height:64,px:2.5},children:[(0,T.jsx)(K.Z,{children:(0,T.jsxs)(m.Z,{sx:{position:"relative",width:40,height:40},children:[(0,T.jsx)(Q.Z,{alt:a,src:s}),(0,T.jsx)(R.Z,{status:o,sx:{right:0,bottom:0,position:"absolute"}})]})}),(0,T.jsx)(I.Z,{primary:a,secondary:l,primaryTypographyProps:{variant:"subtitle2",noWrap:!0},secondaryTypographyProps:{noWrap:!0}})]}),(0,T.jsx)(Mt,{participant:t,isOpen:n,onClose:r})]})}function Dt(e){var t=e.participants,n=e.selectUserId,r=e.onShowPopupUserInfo,i=e.isCollapse,a=e.onCollapse,s=(0,B.Z)(e,Wt);return(0,T.jsxs)(m.Z,(0,z.Z)((0,z.Z)({},s),{},{children:[(0,T.jsxs)(Tt,{fullWidth:!0,disableRipple:!0,color:"inherit",onClick:a,endIcon:(0,T.jsx)(g.JO,{icon:i?xt.Z:Me.Z,width:16,height:16}),children:["\u5ba4\u5185(",t.length,")"]}),(0,T.jsx)(m.Z,{sx:{height:i?256:0},children:(0,T.jsx)(ct.Z,{children:(0,T.jsx)(Zt.Z,{in:i,children:(0,T.jsx)(C.Z,{disablePadding:!0,children:t.map((function(e){return(0,T.jsx)(_t,{participant:e,isOpen:n===e.id,onShowPopup:function(){return r(e.id)},onClosePopup:function(){return r(null)}},e.id)}))})})})})]}))}var zt=["participants","isCollapse","onCollapse"],Bt=(0,U.ZP)(ft.Z)((function(e){var t=e.theme;return(0,z.Z)((0,z.Z)({},t.typography.overline),{},{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})})),Jt=(0,U.ZP)(g.JO)((function(e){return{width:16,height:16,marginTop:4,color:e.theme.palette.text.secondary}})),Lt=(0,U.ZP)(b.Z)((function(e){var t=e.theme;return(0,z.Z)({flexGrow:1,maxWidth:160,wordWrap:"break-word"},t.typography.body2)}));function Et(e){var t=e.participants,n=e.isCollapse,r=e.onCollapse,i=(0,B.Z)(e,zt),a=(0,Y.Z)(t)[0];return void 0===a?null:(0,T.jsxs)(m.Z,(0,z.Z)((0,z.Z)({},i),{},{children:[(0,T.jsxs)(m.Z,{sx:{pt:4,pb:3,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,T.jsx)(Q.Z,{alt:a.name,src:a.avatar,sx:{width:96,height:96}}),(0,T.jsxs)(m.Z,{sx:{mt:2,textAlign:"center"},children:[(0,T.jsx)(b.Z,{variant:"subtitle1",children:a.name}),(0,T.jsx)(b.Z,{variant:"body2",sx:{color:"text.secondary"},children:a.position})]})]}),(0,T.jsx)(w.Z,{}),(0,T.jsx)(Bt,{fullWidth:!0,color:"inherit",onClick:r,endIcon:(0,T.jsx)(g.JO,{icon:n?xt.Z:Me.Z,width:16,height:16}),children:"\u4fe1\u606f"}),(0,T.jsx)(Zt.Z,{in:n,children:(0,T.jsxs)(Ke.Z,{spacing:2,sx:{p:2.5,pt:1},children:[(0,T.jsxs)(Ke.Z,{direction:"row",spacing:1,children:[(0,T.jsx)(Jt,{icon:St.Z}),(0,T.jsx)(Lt,{children:a.address})]}),(0,T.jsxs)(Ke.Z,{direction:"row",spacing:1,children:[(0,T.jsx)(Jt,{icon:Te.Z}),(0,T.jsx)(Lt,{children:a.phone})]}),(0,T.jsxs)(Ke.Z,{direction:"row",spacing:1,children:[(0,T.jsx)(Jt,{icon:kt.Z}),(0,T.jsx)(Lt,{children:a.email})]})]})})]}))}var Ft=["conversation","participants"],Gt=(0,U.ZP)("div")((function(e){var t=e.theme;return{width:240,flexShrink:0,display:"flex",position:"relative",flexDirection:"column",borderLeft:"solid 1px ".concat(t.palette.divider),transition:t.transitions.create("width")}})),Ut=(0,U.ZP)("div")((function(e){var t=e.theme;return{borderRight:0,display:"flex",overflow:"hidden",position:"absolute",alignItems:"center",top:t.spacing(1),left:t.spacing(-4),width:t.spacing(4),height:t.spacing(4),justifyContent:"center",boxShadow:t.customShadows.z8,border:"solid 1px ".concat(t.palette.divider),borderTopLeftRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper,borderBottomLeftRadius:t.shape.borderRadius}}));function qt(e){var t=e.conversation,n=e.participants,r=(0,B.Z)(e,Ft),i=(0,pt.Z)(),s=(0,ht.Z)(i.breakpoints.down("lg")),o=(0,a.useState)(!0),l=(0,p.Z)(o,2),c=l[0],d=l[1],u=(0,a.useState)(!0),h=(0,p.Z)(u,2),x=h[0],f=h[1],Z=(0,a.useState)(null),m=(0,p.Z)(Z,2),v=m[0],b=m[1],j=(0,a.useState)(!0),C=(0,p.Z)(j,2),k=C[0],S=C[1],I=(0,a.useState)(!0),P=(0,p.Z)(I,2),O=P[0],A=P[1],R=n.length>1;return(0,a.useEffect)((function(){return d(!s)}),[s]),(0,T.jsxs)(Gt,(0,z.Z)((0,z.Z)({sx:(0,z.Z)({},!c&&{width:0,"& > *":{overflow:"hidden"}})},r),{},{children:[(0,T.jsx)(Ut,{children:(0,T.jsx)(y.Z,{onClick:function(){return d(!c)},children:(0,T.jsx)(g.JO,{width:16,height:16,icon:c?Me.Z:ut.Z})})}),R?(0,T.jsx)(Dt,{selectUserId:v,participants:n,isCollapse:O,onShowPopupUserInfo:function(e){return b(e)},onCollapse:function(){return A((function(e){return!e}))}}):(0,T.jsx)(Et,{participants:n,isCollapse:x,onCollapse:function(){return f((function(e){return!e}))}}),(0,T.jsx)(w.Z,{}),(0,T.jsx)(Ct,{conversation:t,isCollapse:k,onCollapse:function(){return S((function(e){return!e}))}})]}))}function Vt(e){var t=e.query,n=e.results,r=e.onSelectContact,i=n.length>0;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(b.Z,{paragraph:!0,variant:"subtitle1",sx:{px:3,color:"text.secondary"},children:"Contacts"}),(0,T.jsx)(C.Z,{disablePadding:!0,children:n.map((function(e){return(0,T.jsxs)(O.Z,{onClick:function(){return r(e)},sx:{py:1.5,px:3},children:[(0,T.jsx)(K.Z,{children:(0,T.jsx)(Q.Z,{alt:e.name,src:e.avatar})}),(0,T.jsx)(I.Z,{primary:e.name,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"}})]},e.id)}))}),!i&&(0,T.jsx)(Ie.Z,{searchQuery:t,sx:{p:3,mx:"auto",width:"calc(100% - 48px)",bgcolor:"background.neutral"}})]})}var Nt=n(36834),Ht=n(82173),Yt=n(70744),Kt=n(17944),Qt=n(83325),$t=(0,U.ZP)("div")((function(e){var t=e.theme;return{width:320,flexShrink:0,display:"flex",flexDirection:"column",transition:t.transitions.create("width"),borderRight:"1px solid ".concat(t.palette.divider)}}));function Xt(){var e=(0,pt.Z)(),t=(0,fe.s0)(),n=(0,ht.Z)(e.breakpoints.down("md")),r=(0,a.useState)(!0),i=(0,p.Z)(r,2),s=i[0],o=i[1],l=(0,a.useState)(""),c=(0,p.Z)(l,2),d=c[0],x=c[1],f=(0,a.useState)([]),Z=(0,p.Z)(f,2),v=Z[0],b=Z[1],j=(0,a.useState)(!1),y=(0,p.Z)(j,2),w=y[0],C=y[1],k=d&&w,S=(0,u.v9)((function(e){return e.chat})),I=S.conversations,P=S.activeConversationId;(0,a.useEffect)((function(){return o(!n)}),[n]),(0,a.useEffect)((function(){if(!s)return C(!1)}),[s]);var O=function(){var e=(0,Ht.Z)((0,Nt.Z)().mark((function e(t){var n,r;return(0,Nt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.target.value,x(n),!n){e.next=10;break}return e.next=6,Qt.Z.get("/api/chat/search",{params:{query:n}});case 6:r=e.sent,b(r.data.results),e.next=11;break;case 10:b([]);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){C(!1),x(""),t("".concat(h.vB.chat.root,"/").concat(e))};return(0,T.jsxs)($t,{sx:(0,z.Z)({},!s&&{width:96}),children:[(0,T.jsxs)(m.Z,{sx:{py:2,px:3},children:[(0,T.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center"},children:[s&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(D,{}),(0,T.jsx)(m.Z,{sx:{flexGrow:1}})]}),(0,T.jsx)(Be.V3,{onClick:function(){return o(!s)},children:(0,T.jsx)(g.JO,{width:20,height:20,icon:s?ut.Z:Me.Z})}),s&&(0,T.jsx)(Be.V3,{to:h.vB.chat.new,component:Kt.rU,children:(0,T.jsx)(g.JO,{icon:Yt.Z,width:20,height:20})})]}),s&&(0,T.jsx)(H,{query:d,onFocus:function(){C(!0)},onChange:O,onClickAway:function(){C(!1),x("")}})]}),(0,T.jsx)(ct.Z,{children:k?(0,T.jsx)(Vt,{query:d,results:v,onSelectContact:function(e){A&&A(e.username)}}):(0,T.jsx)(ge,{conversations:I,isOpenSidebar:s,activeConversationId:P,sx:(0,z.Z)({},w&&{display:"none"})})})]})}function en(){var e=(0,u.I0)(),t=(0,fe.s0)(),n=(0,fe.TH)().pathname,r=(0,fe.UO)().conversationKey,i=(0,u.v9)((function(e){return e.chat})),s=i.contacts,o=i.recipients,l=i.participants,c=i.activeConversationId,p=(0,u.v9)((function(e){return function(e){var t=e.chat,n=t.conversations,r=t.activeConversationId;return n.byId[r]||{id:null,messages:[],participants:[],unreadMessages:0}}(e)})),x=r?"DETAIL":"COMPOSE",f=l.filter((function(e){return"8864c717-587d-472a-929a-8e5f298024da-0"!==e.id}));(0,a.useEffect)((function(){var n=function(){var n=(0,Ht.Z)((0,Nt.Z)().mark((function n(){return(0,Nt.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e((0,d.aS)(r));try{e((0,d.cc)(r))}catch(i){console.error(i),t(h.vB.chat.new)}case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();r?n():c&&e((0,d.PY)())}),[r]),(0,a.useEffect)((function(){c&&e((0,d.R7)(c))}),[e,c]);var Z=function(){var t=(0,Ht.Z)((0,Nt.Z)().mark((function t(n){return(0,Nt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e((0,d.Bs)(n))}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,T.jsxs)(m.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:["DETAIL"===x?(0,T.jsx)(Ue,{participants:f}):(0,T.jsx)(Re,{recipients:o,contacts:Object.values(s.byId),onAddRecipient:function(t){e((0,d.sS)(t))}}),(0,T.jsx)(w.Z,{}),(0,T.jsxs)(m.Z,{sx:{flexGrow:1,display:"flex",overflow:"hidden"},children:[(0,T.jsxs)(m.Z,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:[(0,T.jsx)(dt,{conversation:p}),(0,T.jsx)(w.Z,{}),(0,T.jsx)(tt,{conversationId:c,onSend:Z,disabled:n===h.vB.chat.new})]}),"DETAIL"===x&&(0,T.jsx)(qt,{conversation:p,participants:f})]})]})}function tn(){var e=(0,c.Z)().themeStretch,t=(0,u.I0)();return(0,a.useEffect)((function(){t((0,d.uv)()),t((0,d.K2)())}),[t]),(0,T.jsx)(o.Z,{title:"\u804a\u5929 ".concat(l.cb),children:(0,T.jsxs)(r.Z,{maxWidth:!e&&"xl",children:[(0,T.jsx)(s.Z,{heading:"\u804a\u5929",links:[{name:"APP",href:h.vB.root},{name:"\u804a\u5929"}]}),(0,T.jsxs)(i.Z,{sx:{height:"72vh",display:"flex"},children:[(0,T.jsx)(Xt,{}),(0,T.jsx)(en,{})]})]})})}},91488:function(e,t,n){"use strict";n.d(t,{JB:function(){return f},PF:function(){return v},UO:function(){return Z},lW:function(){return g}});var r=n(44908),i=n(7233),a=n(3469),s=n(58847),o=["jpg","jpeg","gif","bmp","png"],l=["m4v","avi","mpg","mp4","webm"],c=["doc","docx"],d=["xls","xlsx"],u=["ppt","pptx"],h=["pdf"],p=["psd"],x=["ai","esp"];function f(e){return e.split(".").pop()}function Z(e){return e.substring(e.lastIndexOf("/")+1).replace(/\.[^/.]+$/,"")}function g(e){return e.split("/").pop()}var m=function(e){return(0,s.jsx)(a.Z,{component:"img",src:"/static/icons/file/".concat(e,".svg"),alt:e,sx:{width:28,height:28}})};function v(e){var t;switch(function(e){var t;switch(e.includes(f(e))){case o.includes(f(e)):t="image";break;case l.includes(f(e)):t="video";break;case c.includes(f(e)):t="word";break;case d.includes(f(e)):t="excel";break;case u.includes(f(e)):t="powerpoint";break;case h.includes(f(e)):t="pdf";break;case p.includes(f(e)):t="photoshop";break;case x.includes(f(e)):t="illustrator";break;default:t=f(e)}return t}(e)){case"image":t=(0,s.jsx)(a.Z,{component:"img",src:e,alt:e,sx:{width:1,height:1}});break;case"video":t=m("file_type_video");break;case"word":t=m("file_type_word");break;case"excel":t=m("file_type_excel");break;case"powerpoint":t=m("file_type_powerpoint");break;case"pdf":t=m("file_type_pdf");break;case"photoshop":t=m("file_type_photoshop");break;case"illustrator":t=m("file_type_ai");break;default:t=(0,s.jsx)(a.Z,{component:i.JO,icon:r.Z,sx:{width:28,height:28}})}return t}},70744:function(e,t){t.Z={body:'<path fill="currentColor" d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71ZM16 10.68L13.32 8l1.95-2L18 8.73Z"/>',width:24,height:24}},74577:function(e,t){t.Z={body:'<path fill="currentColor" d="M12 15a4 4 0 0 0 4-4V6a4 4 0 0 0-8 0v5a4 4 0 0 0 4 4Z"/><path fill="currentColor" d="M19 11a1 1 0 0 0-2 0a5 5 0 0 1-10 0a1 1 0 0 0-2 0a7 7 0 0 0 6 6.92V20H8.89a.89.89 0 0 0-.89.89v.22a.89.89 0 0 0 .89.89h6.22a.89.89 0 0 0 .89-.89v-.22a.89.89 0 0 0-.89-.89H13v-2.08A7 7 0 0 0 19 11Z"/>',width:24,height:24}},64810:function(e,t){t.Z={body:'<path fill="currentColor" d="M17.4 22A15.42 15.42 0 0 1 2 6.6A4.6 4.6 0 0 1 6.6 2a3.94 3.94 0 0 1 .77.07a3.79 3.79 0 0 1 .72.18a1 1 0 0 1 .65.75l1.37 6a1 1 0 0 1-.26.92c-.13.14-.14.15-1.37.79a9.91 9.91 0 0 0 4.87 4.89c.65-1.24.66-1.25.8-1.38a1 1 0 0 1 .92-.26l6 1.37a1 1 0 0 1 .72.65a4.34 4.34 0 0 1 .19.73a4.77 4.77 0 0 1 .06.76A4.6 4.6 0 0 1 17.4 22Z"/>',width:24,height:24}},64251:function(e,t){t.Z={body:'<path fill="currentColor" d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h9a3 3 0 0 0 3-3v-1.45l2.16 2a1.74 1.74 0 0 0 1.16.45a1.68 1.68 0 0 0 .69-.15a1.6 1.6 0 0 0 1-1.48V8.63A1.6 1.6 0 0 0 21 7.15Z"/>',width:24,height:24}},97157:function(e,t){t.Z={body:'<path fill="currentColor" d="M12 3c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1s1-.45 1-1V4c0-.55-.45-1-1-1zm5.14 2.86a.99.99 0 0 0-.01 1.39c1.13 1.2 1.83 2.8 1.87 4.57c.09 3.83-3.08 7.13-6.91 7.17A6.981 6.981 0 0 1 5 12c0-1.84.71-3.51 1.87-4.76c.37-.39.37-1-.01-1.38a.993.993 0 0 0-1.43.02A8.92 8.92 0 0 0 3 11.74c-.14 4.88 3.83 9.1 8.71 9.25c5.1.16 9.29-3.93 9.29-9c0-2.37-.92-4.51-2.42-6.11c-.38-.41-1.04-.42-1.44-.02z"/>',width:24,height:24}},17358:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(23080),i=n(13010),a=n(45443),s=n(53525),o=n(60236),l=n(4607),c=n(24960),d=n(92261),u=n(10656);function h(e){return(0,u.Z)("MuiDialogContent",e)}(0,n(35689).Z)("MuiDialogContent",["root","dividers"]);var p=n(74575),x=n(58847),f=["className","dividers"],Z=(0,c.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:(0,r.Z)({},".".concat(p.Z.root," + &"),{paddingTop:0}))})),g=s.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiDialogContent"}),r=n.className,s=n.dividers,c=void 0!==s&&s,u=(0,i.Z)(n,f),p=(0,a.Z)({},n,{dividers:c}),g=function(e){var t=e.classes,n={root:["root",e.dividers&&"dividers"]};return(0,l.Z)(n,h,t)}(p);return(0,x.jsx)(Z,(0,a.Z)({className:(0,o.Z)(g.root,r),ownerState:p,ref:t},u))}))},74575:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(10656);function i(e){return(0,r.Z)("MuiDialogTitle",e)}var a=(0,n(35689).Z)("MuiDialogTitle",["root"]);t.Z=a},1655:function(e,t,n){var r=n(83590).clean,i=/[.*+?^${}()|[\]\\]/g,a=/[a-z0-9_]/i,s=/\s+/;e.exports=function(e,t,n){var o,l;l={insideWords:!1,findAllOccurrences:!1,requireMatchAll:!1},o=(o=n)||{},Object.keys(o).forEach((function(e){l[e]=!!o[e]})),n=l;var c=Array.from(e).map((function(e){return r(e)})),d=c.join("");return(t=r(t)).trim().split(s).filter((function(e){return e.length>0})).reduce((function(e,t){var r,s,o=t.length,l=!n.insideWords&&a.test(t[0])?"\\b":"",u=new RegExp(l+t.replace(i,"\\$&"),"i");if(r=u.exec(d),n.requireMatchAll&&null===r)return d="",[];for(;r;){s=r.index;var h=o-c.slice(s,s+o).join("").length,p=s-c.slice(0,s).join("").length,x=[s+p,s+o+p+h];if(x[0]!==x[1]&&e.push(x),d=d.slice(0,s)+new Array(o+1).join(" ")+d.slice(s+o),!n.findAllOccurrences)break;r=u.exec(d)}return e}),[]).sort((function(e,t){return e[0]-t[0]}))}},94937:function(e){e.exports=function(e,t){var n=[];return 0===t.length?n.push({text:e,highlight:!1}):t[0][0]>0&&n.push({text:e.slice(0,t[0][0]),highlight:!1}),t.forEach((function(r,i){var a=r[0],s=r[1];n.push({text:e.slice(a,s),highlight:!0}),i===t.length-1?s<e.length&&n.push({text:e.slice(s,e.length),highlight:!1}):s<t[i+1][0]&&n.push({text:e.slice(s,t[i+1][0]),highlight:!1})})),n}},10004:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(95541),i=n(88991),a=n(87011);function s(e){return(0,a.l)(e.toLowerCase())}function o(e,t){return void 0===t&&(t={}),(0,i.B)(e,(0,r.pi)({delimiter:" ",transform:s},t))}},83590:function(e,t,n){var r,i,a;a=function(){for(var e={map:{}},t=[{base:" ",letters:"\xa0"},{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",letters:"\xde"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"ff",letters:"\ufb00"},{base:"fi",letters:"\ufb01"},{base:"fl",letters:"\ufb02"},{base:"ffi",letters:"\ufb03"},{base:"ffl",letters:"\ufb04"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\xf1n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"\u07c0o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oe",letters:"\u0152\u0153"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"ss",letters:"\xdf"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",letters:"\xfe"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],n=0,r=t.length;n<r;n++)for(var i=t[n].letters.split(""),a=0,s=i.length;a<s;a++)e.map[i[a]]=t[n].base;return e.clean=function(t){if(!t||!t.length||t.length<1)return"";for(var n,r="",i=t.split(""),a=0,s=i.length;a<s;a++)r+=(n=i[a])in e.map?e.map[n]:n;return r},e},e.exports?e.exports=a():void 0===(i="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)},87011:function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.substr(1)}n.d(t,{l:function(){return r}})}}]);
//# sourceMappingURL=9845.b5a4d383.chunk.js.map