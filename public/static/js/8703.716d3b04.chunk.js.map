{"version":3,"file":"static/js/8703.716d3b04.chunk.js","mappings":"yhBAee,SAASA,IACtB,IAAQC,GAAaC,EAAAA,EAAAA,KAAbD,SACFE,GAAeC,EAAAA,EAAAA,KACrB,GAA2CC,EAAAA,EAAAA,MAAnCC,EAAR,EAAQA,gBAAiBC,EAAzB,EAAyBA,cACzB,GAAwCC,EAAAA,EAAAA,WAAS,GAAjD,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAiBC,EAAAA,KAAaC,MAAM,CACxCC,UAAWF,EAAAA,KAAaG,IAAI,EAAG,iBAAOC,IAAI,GAAI,iBAAOC,SAAS,4BAC9DC,SAAUN,EAAAA,KAAaG,IAAI,EAAG,iBAAOC,IAAI,GAAI,iBAAOC,SAAS,4BAC7DE,MAAOP,EAAAA,KAAaO,MAAM,4EAAgBF,SAAS,wCACnDG,SAAUR,EAAAA,KAAaK,SAAS,0CAG5BI,GAAcC,EAAAA,EAAAA,IAAU,CAC5BC,cAAe,CACbT,UAAW,GACXI,SAAU,GACVC,MAAO,GACPC,SAAU,IAEZI,iBAAkBb,EAClBc,SAAS,WAAD,8BAAE,WAAOC,EAAP,wFAAiBC,EAAjB,EAAiBA,UAAWC,EAA5B,EAA4BA,cAA5B,kBAEA3B,EAASyB,EAAOP,MAAOO,EAAON,SAAUM,EAAOZ,UAAWY,EAAOR,UAFjE,OAGNZ,EAAgB,2BAAQ,CACtBuB,QAAS,UACTC,OAAQ,SAACC,GAAD,OACN,SAAC,KAAD,CAAaC,KAAK,QAAQC,QAAS,kBAAM1B,EAAcwB,IAAvD,UACE,SAAC,KAAD,CAAMG,KAAMC,EAAAA,SAIdhC,EAAaiC,SACfR,GAAc,GAZV,gDAeNS,QAAQC,MAAR,MACInC,EAAaiC,UACfT,EAAU,CAAEY,YAAa,KAAMC,UAC/BZ,GAAc,IAlBV,yDAAF,qDAAC,KAwBHa,EAA+DpB,EAA/DoB,OAAQC,EAAuDrB,EAAvDqB,QAASC,EAA8CtB,EAA9CsB,aAAcC,EAAgCvB,EAAhCuB,aAAcC,EAAkBxB,EAAlBwB,cAErD,OACE,SAAC,KAAD,CAAgBC,MAAOzB,EAAvB,UACE,SAAC,KAAD,CAAM0B,aAAa,MAAMC,YAAU,EAACvB,SAAUkB,EAA9C,UACE,UAACM,EAAA,EAAD,CAAOC,QAAS,EAAhB,UACGT,EAAOF,cAAe,SAACY,EAAA,EAAD,CAAOC,SAAS,QAAhB,SAAyBX,EAAOF,eAEvD,SAACc,EAAA,GAAD,gBACEC,WAAS,EACTC,MAAM,sBACFV,EAAc,SAHpB,IAIEP,MAAOkB,QAAQd,EAAQe,UAAYhB,EAAOgB,UAC1CC,WAAYhB,EAAQe,UAAYhB,EAAOgB,aAGzC,SAACJ,EAAA,GAAD,gBACEC,WAAS,EACTP,aAAa,WACbY,KAAK,QACLJ,MAAM,6BACFV,EAAc,UALpB,IAMEP,MAAOkB,QAAQd,EAAQvB,OAASsB,EAAOtB,OACvCuC,WAAYhB,EAAQvB,OAASsB,EAAOtB,UAGtC,SAACkC,EAAA,GAAD,gBACEC,WAAS,EACTP,aAAa,mBACbY,KAAMlD,EAAe,OAAS,WAC9B8C,MAAM,gBACFV,EAAc,aALpB,IAMEe,WAAY,CACVC,cACE,SAACC,EAAA,EAAD,CAAgBC,SAAS,MAAzB,UACE,SAACC,EAAA,EAAD,CAAYC,KAAK,MAAMhC,QAAS,kBAAMvB,GAAgB,SAACwD,GAAD,OAAWA,MAAjE,UACE,SAAC,KAAD,CAAMhC,KAAMzB,EAAe0D,EAAAA,EAAUC,EAAAA,SAK7C9B,MAAOkB,QAAQd,EAAQtB,UAAYqB,EAAOrB,UAC1CsC,WAAYhB,EAAQtB,UAAYqB,EAAOrB,aAGzC,SAACiD,EAAA,EAAD,CACEf,WAAS,EACTtB,KAAK,QACL2B,KAAK,SACL9B,QAAQ,YACRyC,QAAS1B,EALX,iCC3FV,IAAM2B,GAAYC,EAAAA,EAAAA,IAAOC,EAAAA,EAAPD,EAAa,gBAAGE,EAAH,EAAGA,MAAH,iBAC5BA,EAAMC,YAAYC,GAAG,MAAQ,CAC5BC,QAAS,YAIPC,GAAeN,EAAAA,EAAAA,IAAOO,EAAAA,EAAPP,EAAa,kBAAgB,CAChDQ,MAAO,OACPC,SAAU,IACVJ,QAAS,OACTK,cAAe,SACfC,eAAgB,SAChBC,OANgC,EAAGV,MAMrBxB,QAAQ,EAAG,EAAG,EAAG,OAG3BmC,GAAeb,EAAAA,EAAAA,IAAO,MAAPA,EAAc,kBAAgB,CACjDS,SAAU,IACVG,OAAQ,OACRP,QAAS,OACTS,UAAW,QACXJ,cAAe,SACfC,eAAgB,SAChBI,QAPiC,EAAGb,MAOrBxB,QAAQ,GAAI,OAGd,SAASsC,IACtB,IAAQC,GAAWvF,EAAAA,EAAAA,KAAXuF,OAER,OACE,UAAClB,EAAD,CAAWmB,MAAK,sBAAOC,EAAAA,IAAvB,WACE,UAACC,EAAA,EAAD,yDAEE,SAACC,EAAA,EAAD,CAAMC,UAAU,OAAOjE,QAAQ,YAAYkE,UAAWC,EAAAA,GAAYC,GAAIC,EAAAA,GAAAA,MAAtE,8BAKF,SAAC,KAAD,CAASlB,MAAM,SAAf,UACE,UAACF,EAAD,YACE,SAACqB,EAAA,EAAD,CAAYtE,QAAQ,KAAKuE,GAAI,CAAEC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAlD,6FAGA,gBAAKC,IAAI,WAAWC,IAAI,0DAI5B,SAACC,EAAA,EAAD,WACE,UAACrB,EAAD,YACE,SAACsB,EAAA,EAAD,CAAKP,GAAI,CAAEG,GAAI,EAAG1B,QAAS,OAAQ+B,WAAY,UAA/C,UACE,SAACD,EAAA,EAAD,CAAKP,GAAI,CAAES,SAAU,GAArB,UACE,SAACV,EAAA,EAAD,CAAYtE,QAAQ,KAAKiF,cAAY,EAArC,2CAMQ,aAAXrB,IAAyB,SAACsB,EAAA,EAAD,KAE1B,SAAC/G,EAAD,KAEA,UAACmG,EAAA,EAAD,CAAYtE,QAAQ,QAAQmF,MAAM,SAASZ,GAAI,CAAEa,MAAO,iBAAkBX,GAAI,GAA9E,oCAEE,SAACT,EAAA,EAAD,CAAMC,UAAU,SAASmB,MAAM,eAAeC,KAAK,IAAnD,sCAFF,kBAME,SAACrB,EAAA,EAAD,CAAMC,UAAU,SAASmB,MAAM,eAAeC,KAAK,IAAnD,sCANF,QAYA,SAAC,KAAD,CAASlC,MAAM,OAAf,UACE,UAACmB,EAAA,EAAD,CAAYtE,QAAQ,YAAYuE,GAAI,CAAEE,GAAI,EAAGa,UAAW,UAAxD,uDAEE,SAACtB,EAAA,EAAD,CAAMI,GAAIC,EAAAA,GAAAA,MAAiBH,UAAWC,EAAAA,GAAtC","sources":["pages/authentication/register/modules/RegisterForm.tsx","pages/authentication/register/index.tsx"],"sourcesContent":["import closeFill from '@iconify/icons-eva/close-fill';\nimport eyeFill from '@iconify/icons-eva/eye-fill';\nimport eyeOffFill from '@iconify/icons-eva/eye-off-fill';\nimport { Icon } from '@iconify/react';\nimport { LoadingButton } from '@mui/lab';\nimport { Alert, IconButton, InputAdornment, Stack, TextField } from '@mui/material';\nimport { Form, FormikProvider, useFormik } from 'formik';\nimport { useSnackbar } from 'notistack';\nimport { useState } from 'react';\nimport * as Yup from 'yup';\n\nimport { MIconButton } from '@/components/@material-extend';\nimport useAuth from '@/hooks/useAuth';\nimport useIsMountedRef from '@/hooks/useIsMountedRef';\n\nexport default function RegisterForm() {\n  const { register } = useAuth();\n  const isMountedRef = useIsMountedRef();\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const [showPassword, setShowPassword] = useState(false);\n\n  const RegisterSchema = Yup.object().shape({\n    firstName: Yup.string().min(2, '太短!').max(50, '太长!').required('需要名字'),\n    lastName: Yup.string().min(2, '太短!').max(50, '太长!').required('需要名字'),\n    email: Yup.string().email('邮件必须是有效的邮件地址').required('邮件是必需的'),\n    password: Yup.string().required('密码是必须的')\n  });\n\n  const formik: any = useFormik({\n    initialValues: {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: ''\n    },\n    validationSchema: RegisterSchema,\n    onSubmit: async (values, { setErrors, setSubmitting }) => {\n      try {\n        await register(values.email, values.password, values.firstName, values.lastName);\n        enqueueSnackbar('注册成功', {\n          variant: 'success',\n          action: (key) => (\n            <MIconButton size=\"small\" onClick={() => closeSnackbar(key)}>\n              <Icon icon={closeFill} />\n            </MIconButton>\n          )\n        });\n        if (isMountedRef.current) {\n          setSubmitting(false);\n        }\n      } catch (error: any) {\n        console.error(error);\n        if (isMountedRef.current) {\n          setErrors({ afterSubmit: error.message } as any);\n          setSubmitting(false);\n        }\n      }\n    }\n  });\n\n  const { errors, touched, handleSubmit, isSubmitting, getFieldProps } = formik;\n\n  return (\n    <FormikProvider value={formik}>\n      <Form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\n        <Stack spacing={3}>\n          {errors.afterSubmit && <Alert severity=\"error\">{errors.afterSubmit}</Alert>}\n\n          <TextField\n            fullWidth\n            label=\"用户名\"\n            {...getFieldProps('name')}\n            error={Boolean(touched.username && errors.username)}\n            helperText={touched.username && errors.username}\n          />\n\n          <TextField\n            fullWidth\n            autoComplete=\"username\"\n            type=\"email\"\n            label=\"邮箱 地址\"\n            {...getFieldProps('email')}\n            error={Boolean(touched.email && errors.email)}\n            helperText={touched.email && errors.email}\n          />\n\n          <TextField\n            fullWidth\n            autoComplete=\"current-password\"\n            type={showPassword ? 'text' : 'password'}\n            label=\"密码\"\n            {...getFieldProps('password')}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton edge=\"end\" onClick={() => setShowPassword((prev) => !prev)}>\n                    <Icon icon={showPassword ? eyeFill : eyeOffFill} />\n                  </IconButton>\n                </InputAdornment>\n              )\n            }}\n            error={Boolean(touched.password && errors.password)}\n            helperText={touched.password && errors.password}\n          />\n\n          <LoadingButton\n            fullWidth\n            size=\"large\"\n            type=\"submit\"\n            variant=\"contained\"\n            loading={isSubmitting}\n          >\n            注册\n          </LoadingButton>\n        </Stack>\n      </Form>\n    </FormikProvider>\n  );\n}\n","import { Box, Card, Container, Link, Typography } from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport { Link as RouterLink } from 'react-router-dom';\n\nimport { MHidden } from '@/components/@material-extend';\nimport Page from '@/components/Page';\nimport { title_main } from '@/config';\nimport useAuth from '@/hooks/useAuth';\nimport AuthLayout from '@/layouts/AuthLayout';\nimport { PATH_AUTH } from '@/routes/paths';\n\nimport AuthFirebaseSocials from '../AuthFirebaseSocial';\nimport { RegisterForm } from './modules';\n\nconst RootStyle = styled(Page)(({ theme }) => ({\n  [theme.breakpoints.up('md')]: {\n    display: 'flex'\n  }\n}));\n\nconst SectionStyle = styled(Card)(({ theme }) => ({\n  width: '100%',\n  maxWidth: 464,\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  margin: theme.spacing(2, 0, 2, 2)\n}));\n\nconst ContentStyle = styled('div')(({ theme }) => ({\n  maxWidth: 480,\n  margin: 'auto',\n  display: 'flex',\n  minHeight: '100vh',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  padding: theme.spacing(12, 0)\n}));\n\nexport default function Register() {\n  const { method } = useAuth();\n\n  return (\n    <RootStyle title={`注册${title_main}`}>\n      <AuthLayout>\n        已经有账户了? &nbsp;\n        <Link underline=\"none\" variant=\"subtitle2\" component={RouterLink} to={PATH_AUTH.login}>\n          登录\n        </Link>\n      </AuthLayout>\n\n      <MHidden width=\"mdDown\">\n        <SectionStyle>\n          <Typography variant=\"h3\" sx={{ px: 5, mt: 10, mb: 5 }}>\n            最少的成本更有效地管理工作\n          </Typography>\n          <img alt=\"register\" src=\"/static/illustrations/illustration_register.png\" />\n        </SectionStyle>\n      </MHidden>\n\n      <Container>\n        <ContentStyle>\n          <Box sx={{ mb: 5, display: 'flex', alignItems: 'center' }}>\n            <Box sx={{ flexGrow: 1 }}>\n              <Typography variant=\"h4\" gutterBottom>\n                现在开始.\n              </Typography>\n            </Box>\n          </Box>\n\n          {method === 'firebase' && <AuthFirebaseSocials />}\n\n          <RegisterForm />\n\n          <Typography variant=\"body2\" align=\"center\" sx={{ color: 'text.secondary', mt: 3 }}>\n            我同意&nbsp;\n            <Link underline=\"always\" color=\"text.primary\" href=\"#\">\n              服务条款\n            </Link>\n            &nbsp;和&nbsp;\n            <Link underline=\"always\" color=\"text.primary\" href=\"#\">\n              隐私政策\n            </Link>\n            .\n          </Typography>\n\n          <MHidden width=\"smUp\">\n            <Typography variant=\"subtitle2\" sx={{ mt: 3, textAlign: 'center' }}>\n              已经有账户了?&nbsp;\n              <Link to={PATH_AUTH.login} component={RouterLink}>\n                登录\n              </Link>\n            </Typography>\n          </MHidden>\n        </ContentStyle>\n      </Container>\n    </RootStyle>\n  );\n}\n"],"names":["RegisterForm","register","useAuth","isMountedRef","useIsMountedRef","useSnackbar","enqueueSnackbar","closeSnackbar","useState","showPassword","setShowPassword","RegisterSchema","Yup","shape","firstName","min","max","required","lastName","email","password","formik","useFormik","initialValues","validationSchema","onSubmit","values","setErrors","setSubmitting","variant","action","key","size","onClick","icon","closeFill","current","console","error","afterSubmit","message","errors","touched","handleSubmit","isSubmitting","getFieldProps","value","autoComplete","noValidate","Stack","spacing","Alert","severity","TextField","fullWidth","label","Boolean","username","helperText","type","InputProps","endAdornment","InputAdornment","position","IconButton","edge","prev","eyeFill","eyeOffFill","LoadingButton","loading","RootStyle","styled","Page","theme","breakpoints","up","display","SectionStyle","Card","width","maxWidth","flexDirection","justifyContent","margin","ContentStyle","minHeight","padding","Register","method","title","title_main","AuthLayout","Link","underline","component","RouterLink","to","PATH_AUTH","Typography","sx","px","mt","mb","alt","src","Container","Box","alignItems","flexGrow","gutterBottom","AuthFirebaseSocial","align","color","href","textAlign"],"sourceRoot":""}