"use strict";(self.webpackChunkglowworm=self.webpackChunkglowworm||[]).push([[3259],{92924:function(e,o,r){r.d(o,{B:function(){return s}});var t=r(24960),n=((0,t.ZP)("div")((function(e){var o=e.theme,r="light"===o.palette.mode,t="rtl"===o.direction;return{borderRadius:o.shape.borderRadius,border:"solid 1px ".concat(o.palette.grey[50032]),"& .toggle":{border:"none",borderRadius:6,background:"transparent","&.rdw-option-disabled":{opacity:o.palette.action.disabledOpacity},"& img":{width:16,height:16,filter:r?"none":"invert(100%)"},'&[aria-selected="true"]':{boxShadow:"none",background:o.palette.action.selected},"&:hover":{boxShadow:"none",background:o.palette.action.hover}},"& .dropdown":{minWidth:56,borderRadius:6,boxShadow:"none",background:"transparent",border:"solid 1px ".concat(o.palette.grey[50032]),"&:hover":{boxShadow:"none",background:o.palette.action.hover},"& .rdw-dropdown-selectedtext":{color:o.palette.text.primary},"& .rdw-dropdown-carettoopen":{right:t&&"10%",left:t&&"auto",borderTopColor:o.palette.text.primary},"& .rdw-dropdown-carettoclose":{right:t&&"10%",left:t&&"auto",borderBottomColor:o.palette.text.primary}},"& .dropdown__option":{width:"100%",border:"none",marginTop:o.spacing(1),padding:o.spacing(1,0),boxShadow:o.customShadows.z20,borderRadius:o.shape.borderRadius,background:o.palette.background.paper,"& .rdw-dropdownoption-default":{fontSize:14,minHeight:"auto",padding:o.spacing(.5,2)},"& .rdw-dropdownoption-active":{background:o.palette.action.selected},"& .rdw-dropdownoption-highlighted":{background:o.palette.action.hover}},"& .popup":{right:0,padding:0,left:"auto",border:"none",overflow:"hidden",boxShadow:o.customShadows.z20,borderRadius:o.shape.borderRadius,background:o.palette.background.paper,"& .rdw-link-modal-buttonsection, .rdw-embedded-modal-btn-section, .rdw-image-modal-btn-section":{margin:0,display:"flex",marginTop:o.spacing(2),justifyContent:"space-between","& button":{margin:0,fontSize:13,border:"none",fontWeight:"bold",width:"calc(50% - 4px)",color:o.palette.common.white,background:o.palette.primary.main,borderRadius:o.shape.borderRadius,"&:disabled":{color:o.palette.action.disabled,background:o.palette.action.disabledBackground},"&:last-of-type":{background:"transparent",color:o.palette.text.primary},"&:hover":{boxShadow:"none"},"&:active":{boxShadow:"none"}}},"& input":{height:26,fontSize:14,background:"transparent",padding:o.spacing(0,1.5),color:o.palette.text.primary,borderRadius:o.shape.borderRadius,border:"solid 1px ".concat(o.palette.grey[50032])}},"& .popup__colorpicker":{padding:0,"& .rdw-colorpicker-modal-header":{padding:o.spacing(1),background:o.palette.grey[50012],"& .rdw-colorpicker-modal-style-label":{fontSize:13,padding:o.spacing(.75,0),color:o.palette.text.secondary,borderRadius:o.shape.borderRadius,fontWeight:o.typography.fontWeightMedium},"& .rdw-colorpicker-modal-style-label-active":{borderBottom:"none",boxShadow:o.customShadows.z8,color:o.palette.text.primary,background:o.palette.common.white}},"& .rdw-colorpicker-modal-options":{margin:0,padding:o.spacing(1.5)},"& .rdw-colorpicker-option":{margin:4,width:20,height:20,minWidth:20,borderRadius:6,overflow:"hidden",position:"relative","&:hover":{boxShadow:"none"},"&:before":{zIndex:9,fontSize:0,width:"100%",height:"100%",display:"flex",borderRadius:6,content:'"\\2713"',position:"absolute",alignItems:"center",justifyContent:"center",color:o.palette.common.white,fontWeight:o.typography.fontWeightBold,boxShadow:"inset 0 0 3px 0 rgba(0,0,0,0.12)"},'&[aria-selected="true"]':{boxShadow:"none",borderRadius:"50%","&:before":{fontSize:12}}},"& .rdw-colorpicker-cube":{border:"none"}},"& .popup__link":{height:"auto",padding:o.spacing(2),"& .rdw-link-modal-label":{fontSize:13,fontWeight:o.typography.fontWeightMedium},"& .rdw-link-modal-input":{marginTop:4,marginBottom:12},"& .rdw-link-modal-target-option":{display:"flex",marginBottom:0,alignItems:"center","& > span":{fontSize:14,marginLeft:o.spacing(1)}}},"& .popup__emoji":{overflow:"auto",padding:o.spacing(1)},"& .popup__embedded":{height:"auto","& .rdw-embedded-modal-header":{padding:o.spacing(1),background:o.palette.grey[50012],"& .rdw-embedded-modal-header-label":{display:"none"},"& .rdw-embedded-modal-header-option":{fontSize:13,padding:o.spacing(.75,0),color:o.palette.text.secondary,borderRadius:o.shape.borderRadius,fontWeight:o.typography.fontWeightMedium}},"& .rdw-embedded-modal-link-section":{padding:o.spacing(2,2,0)},"& .rdw-embedded-modal-btn-section":{padding:o.spacing(0,2,2)}},"& .popup__image":{padding:0,"& .rdw-image-modal-header":{margin:0,zIndex:9,fontSize:13,padding:o.spacing(1),background:o.palette.grey[50012],fontWeight:o.typography.fontWeightMedium,"& .rdw-image-modal-header-option":{position:"relative",padding:o.spacing(.75,0)},"& .rdw-image-modal-header-label":{margin:0,width:"100%",height:"100%",border:"none",position:"absolute",background:"transparent"},"& .rdw-image-modal-header-label-highlighted":{zIndex:-1,boxShadow:o.customShadows.z8,background:o.palette.common.white,borderRadius:o.shape.borderRadius}},"& .rdw-image-modal-upload-option":{margin:0,outline:"none",background:"none",padding:o.spacing(2)},"& .rdw-image-modal-upload-option-label":{fontSize:13,textAlign:"center",color:o.palette.text.disabled,borderRadius:o.shape.borderRadius,border:"dashed 1px ".concat(o.palette.grey[50032])},"& .rdw-image-modal-btn-section":{padding:o.spacing(0,2,2)},"& .rdw-image-modal-size, .rdw-image-modal-url-section":{padding:o.spacing(0,2)}},"& .rdw-editor-toolbar":{border:"none",marginBottom:0,background:"transparent",borderBottom:"solid 1px ".concat(o.palette.grey[50032])},"& .rdw-editor-main":{minHeight:200,padding:o.spacing(0,2),"& .public-DraftEditorPlaceholder-root":{color:o.palette.text.disabled}}}})),r(58847));var i=r(29547),a=r(44367),d=["id","error","value","onChange","simple","sx"],l=(0,t.ZP)("div")((function(e){var o=e.theme;return{borderRadius:o.shape.borderRadius,border:"solid 1px ".concat(o.palette.grey[50032]),"& .ql-container.ql-snow":(0,a.Z)((0,a.Z)({borderColor:"transparent"},o.typography.body1),{},{fontFamily:o.typography.fontFamily}),"& .ql-editor":{minHeight:200,"&.ql-blank::before":{fontStyle:"normal",color:o.palette.text.disabled},"& pre.ql-syntax":(0,a.Z)((0,a.Z)({},o.typography.body2),{},{padding:o.spacing(2),borderRadius:o.shape.borderRadius,backgroundColor:o.palette.grey[900]})}}}));function s(e){var o=e.id,r=e.error,t=e.value,s=e.onChange,c=e.simple,p=void 0!==c&&c,u=e.sx,g=(0,i.Z)(e,d);return console.log(o,r,t,s,g,p),(0,n.jsx)(l,{sx:(0,a.Z)((0,a.Z)({},r&&{border:function(e){return"solid 1px ".concat(e.palette.error.main)}}),u)})}},63259:function(e,o,r){r.r(o),r.d(o,{default:function(){return J}});var t=r(89227),n=r(36002),i=r(53525),a=r(5058),d=r(72414),l=r(75641),s=r(19363),c=r(3935),p=r(46875),u=r(45008),g=r(33543),h=r(36834),m=r(82173),b=r(44367),x=r(84832),f=r(37172),w=r(87408),v=r(29336),y=r(33469),Z=r(14682),k=r(10973),j=r(37045),S=r(63856),R=r(60568),z=r(56132),B=r(6844),W=r(34811),T=r(8764),C=r(67007),_=r(99875),P=r(13164),I=r(24960),q=r(7567),A=r(46055),F=r(11098),M=r(92924),E=r(2846),H=r(19525),L=r(58847),O=["Men","Women","Kids"],D=[{group:"Clothing",classify:["Shirts","T-shirts","Jeans","Leather"]},{group:"Tailored",classify:["Suits","Blazers","Trousers","Waistcoats"]},{group:"Accessories",classify:["Shoes","Backpacks and bags","Bracelets","Face masks"]}],U=["Toy Story 3","Logan","Full Metal Jacket","Dangal","The Sting","2001: A Space Odyssey","Singin' in the Rain","Toy Story","Bicycle Thieves","The Kid","Inglourious Basterds","Snatch","3 Idiots"],K=(0,I.ZP)(f.Z)((function(e){var o=e.theme;return(0,b.Z)((0,b.Z)({},o.typography.subtitle2),{},{color:o.palette.text.secondary,marginBottom:o.spacing(1)})}));function V(e){var o=e.isEdit,r=e.currentProduct,t=(0,a.s0)(),n=(0,A.Ds)().enqueueSnackbar,d=F.Ry().shape({name:F.Z_().required("\u5546\u54c1\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"),description:F.Z_().required("\u63cf\u8ff0\u4e0d\u80fd\u4e3a\u7a7a"),images:F.IX().min(1,"\u56fe\u7247\u4e0d\u80fd\u4e3a\u7a7a"),price:F.Rx().required("\u4ef7\u683c\u4e0d\u80fd\u4e3a\u7a7a")}),l=(0,q.TA)({enableReinitialize:!0,initialValues:{name:(null===r||void 0===r?void 0:r.name)||"",description:(null===r||void 0===r?void 0:r.description)||"",images:(null===r||void 0===r?void 0:r.images)||[],code:(null===r||void 0===r?void 0:r.code)||"",sku:(null===r||void 0===r?void 0:r.sku)||"",price:(null===r||void 0===r?void 0:r.price)||"",priceSale:(null===r||void 0===r?void 0:r.priceSale)||"",tags:(null===r||void 0===r?void 0:r.tags)||[U[0]],inStock:Boolean("out_of_stock"!==(null===r||void 0===r?void 0:r.inventoryType)),taxes:!0,gender:(null===r||void 0===r?void 0:r.gender)||O[2],category:(null===r||void 0===r?void 0:r.category)||D[0].classify[1]},validationSchema:d,onSubmit:function(){var e=(0,m.Z)((0,h.Z)().mark((function e(r,i){var a,d,l;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.setSubmitting,d=i.resetForm,l=i.setErrors,e.prev=1,e.next=4,(0,H.Z)(500);case 4:d(),a(!1),n(o?"\u4fee\u6539\u6210\u529f":"\u521b\u5efa\u6210\u529f",{variant:"success"}),t(g.vB.eCommerce.list),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),a(!1),l(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(o,r){return e.apply(this,arguments)}}()}),s=l.errors,c=l.values,p=l.touched,u=l.handleSubmit,f=l.isSubmitting,I=l.setFieldValue,V=l.getFieldProps,J=(0,i.useCallback)((function(e){I("images",e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}),[I]);return(0,L.jsx)(q.Hy,{value:l,children:(0,L.jsx)(q.l0,{noValidate:!0,autoComplete:"off",onSubmit:u,children:(0,L.jsxs)(w.ZP,{container:!0,spacing:3,children:[(0,L.jsx)(w.ZP,{item:!0,xs:12,md:8,children:(0,L.jsx)(v.Z,{sx:{p:3},children:(0,L.jsxs)(y.Z,{spacing:3,children:[(0,L.jsx)(Z.Z,(0,b.Z)((0,b.Z)({fullWidth:!0,label:"\u5546\u54c1\u540d\u79f0"},V("name")),{},{error:Boolean(p.name&&s.name),helperText:p.name&&s.name})),(0,L.jsxs)("div",{children:[(0,L.jsx)(K,{children:"\u63cf\u8ff0"}),(0,L.jsx)(M.B,{simple:!0,id:"product-description",value:c.description,onChange:function(e){return I("description",e)},error:Boolean(p.description&&s.description)}),p.description&&s.description&&(0,L.jsx)(k.Z,{error:!0,sx:{px:2},children:p.description&&s.description})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)(K,{children:"\u6dfb\u52a0\u56fe\u7247"}),(0,L.jsx)(E.AA,{showPreview:!0,maxSize:3145728,accept:"image/*",files:c.images,onDrop:J,onRemove:function(e){var o=c.images.filter((function(o){return o!==e}));I("images",o)},onRemoveAll:function(){I("images",[])},error:Boolean(p.images&&s.images)}),p.images&&s.images&&(0,L.jsx)(k.Z,{error:!0,sx:{px:2},children:p.images&&s.images})]})]})})}),(0,L.jsx)(w.ZP,{item:!0,xs:12,md:4,children:(0,L.jsxs)(y.Z,{spacing:3,children:[(0,L.jsxs)(v.Z,{sx:{p:3},children:[(0,L.jsx)(j.Z,{control:(0,L.jsx)(S.Z,(0,b.Z)((0,b.Z)({},V("inStock")),{},{checked:c.inStock})),label:"\u5e93\u5b58\u4e2d",sx:{mb:2}}),(0,L.jsxs)(y.Z,{spacing:3,children:[(0,L.jsx)(Z.Z,(0,b.Z)({fullWidth:!0,label:"\u5546\u54c1\u7801"},V("code"))),(0,L.jsx)(Z.Z,(0,b.Z)({fullWidth:!0,label:"\u5546\u54c1SKU"},V("sku"))),(0,L.jsxs)("div",{children:[(0,L.jsx)(K,{children:"Gender"}),(0,L.jsx)(R.Z,(0,b.Z)((0,b.Z)({},V("gender")),{},{row:!0,children:(0,L.jsx)(y.Z,{spacing:1,direction:"row",children:O.map((function(e){return(0,L.jsx)(j.Z,{value:e,control:(0,L.jsx)(z.Z,{}),label:e},e)}))})}))]}),(0,L.jsxs)(B.Z,{fullWidth:!0,children:[(0,L.jsx)(W.Z,{children:"\u7c7b\u522b"}),(0,L.jsx)(T.Z,(0,b.Z)((0,b.Z)({label:"\u7c7b\u522b",native:!0},V("category")),{},{value:c.category,children:D.map((function(e){return(0,L.jsx)("optgroup",{label:e.group,children:e.classify.map((function(e){return(0,L.jsx)("option",{value:e,children:e},e)}))},e.group)}))}))]}),(0,L.jsx)(C.Z,{multiple:!0,freeSolo:!0,value:c.tags,onChange:function(e,o){I("tags",o)},options:U.map((function(e){return e})),renderTags:function(e,o){return e.map((function(e,r){return(0,L.jsx)(_.Z,(0,b.Z)({size:"small",label:e},o({index:r})),e)}))},renderInput:function(e){return(0,L.jsx)(Z.Z,(0,b.Z)({label:"Tags"},e))}})]})]}),(0,L.jsxs)(v.Z,{sx:{p:3},children:[(0,L.jsxs)(y.Z,{spacing:3,children:[(0,L.jsx)(Z.Z,(0,b.Z)((0,b.Z)({fullWidth:!0,placeholder:"0.00",label:"\u6b63\u5e38\u4ef7\u683c"},V("price")),{},{InputProps:{startAdornment:(0,L.jsx)(P.Z,{position:"start"}),type:"number"},error:Boolean(p.price&&s.price),helperText:p.price&&s.price})),(0,L.jsx)(Z.Z,(0,b.Z)((0,b.Z)({fullWidth:!0,placeholder:"0.00",label:"\u9500\u552e\u4ef7\u683c"},V("priceSale")),{},{InputProps:{startAdornment:(0,L.jsx)(P.Z,{position:"start"}),type:"number"}}))]}),(0,L.jsx)(j.Z,{control:(0,L.jsx)(S.Z,(0,b.Z)((0,b.Z)({},V("taxes")),{},{checked:c.taxes})),label:"\u4ef7\u683c\u542b\u7a0e",sx:{mt:2}})]}),(0,L.jsx)(x.Z,{type:"submit",fullWidth:!0,variant:"contained",size:"large",loading:f,children:o?"\u4fdd\u5b58\u5546\u54c1":"\u521b\u5efa\u5546\u54c1"})]})})]})})})}function J(){var e=(0,c.Z)().themeStretch,o=(0,u.I0)(),r=(0,a.TH)().pathname,h=(0,a.UO)().name,m=(0,u.v9)((function(e){return e.product})).products,b=r.includes("edit"),x=m.find((function(e){return(0,n.o)(e.name)===h}));return(0,i.useEffect)((function(){o((0,p.Xp)())}),[o]),(0,L.jsx)(l.Z,{title:"\u521b\u5efa\u5546\u54c1 ".concat(s.cb),children:(0,L.jsxs)(t.Z,{maxWidth:!e&&"lg",children:[(0,L.jsx)(d.Z,{heading:b?"\u7f16\u8f91\u5546\u54c1":"\u521b\u5efa\u5546\u54c1",links:[{name:"\u7ba1\u7406",href:g.vB.root},{name:"\u7535\u5b50\u5546\u52a1",href:g.vB.eCommerce.root},{name:b?h:"\u65b0\u5efa\u5546\u54c1"}]}),(0,L.jsx)(V,{isEdit:b,currentProduct:x})]})})}}}]);
//# sourceMappingURL=3259.3188272f.chunk.js.map